\chapter{Changelog}
\label{changelog}

In this section i want to write a list with all major changes made in SPF2 compared to SPF1. This can be considered as a complete changelog of SPF2.

Changelog SPF:
\begin{enumerate}
	\item project moved from Eclipse to Android Studio.
	\item SPFShared and SPFLib are remote dependencies into a maven repository for external apps, but at the same time they are local projects for SPF.
	\item created a gradle task to upload dependencies into a Sonatype Nexus Server.
	\item updated to Lollipop/Marshmallow Material Design using support libraries.
	\item code cleanup using Butterknife, Otto and Project Lombok. Also, improved architecture removing cyclic dependencies.
	\item completely removed AllJoyn/AllSeen's middleware. SPF2 has a pure Wi-Fi Direct middleware implementation.
	\item notification into Notification Drawer updated with a custom layout (using RemoteViews) adding an "X" button to stop the Proximity Service.
	\item fixed BUG ID=0: crashes related with profile image. Now i'm using android-crop by soundcloud to pick and cut images. Also, I added another library to create circular image view.
	\item added Travis CI to the github repository.
	\item fixed BUG ID=2: problem when i'm trying to save profile's fields. I replaced the listener with a \textsf{TextWatcher}.
	\item fixed BUG ID=9: when CouponClient is closed, SPFFramework receives and saves coupons ignoring my filter. To fix this problem, I changed the filter to use the db, instead of the data saved in memory.
	\item huge code refactoring and design improvements into Wi-Fi Direct Middleware.
	\item fixed BUG ID=11: null pointer exception in GroupActor.
	\item implemented a quick workaround to specify go_intent and autonomous mode from the GUI, using switches.
	\item fixed BUG ID=12: ``service is null" in middleware.
	\item performance improvements for group creation's procedure into the middleware.
	\item fixed Bounjour protocol logic into the middleware.
	\item added Toast notification to explain the connection status.
	\item fixed BUG ID=14: null pointer exception (but I don't remember where ;)).
	\item using the unique identifier I created a quick logic to tell to clients if a device is a GO or not. In fact, now GOs have id that start with the ``AP" prefix.
	\item fixed BUG ID=15: implemented a logic to connect only to ``AP" devices.
	\item fixed BUG ID=16: related to ID=15 but isolated into ServiceList class.
	\item implemented Wi-Fi Direct's Autonomous mode for GOs.
	\item fixed BUG ID X: Android 6.0 Marshmallow changed the permission policy. For this reason, I implemented a workaround to guide the user to enable a specific feature, required by external apps to interact with the framework.
	\item implemented a new logic to manage in a better way the selection of Socket's ports.
	\item log system updated and added code to catch all exceptions in the middleware.
	\item increased the connection's timeout on clients to reduce problems during the connection procedure.
\end{enumerate} 

Changelog SPFCouponingProviderDemo:
\begin{enumerate}
	\item updated to Lollipop/Marshmallow Material Design using support libraries.
	\item fixed BUG ID=3: crashes related with profile image. Now i'm using android-crop by soundcloud to pick and cut images. Also, I added another library to create circular image view.	
	\item added Travis CI to the github repository.
\end{enumerate}

Changelog SPFCouponingClientDemo:
\begin{enumerate}
	\item updated to Lollipop/Marshmallow Material Design using support libraries.
	\item fixed BUG ID=3: crashes related with profile image. Now i'm using android-crop by soundcloud to pick and cut images. Also, I added another library to create circular image view.	
	\item added Travis CI to the github repository.
	\item fixed BUG ID=4: coupons received multiple times, adding multiple times the same element to the list.
	\item fixed BUG ID=5: added a method to delete ``interests" in SPFApp directly from Couponing app recycling existing methods.
	\item fixed BUG ID=6: CouponCreationActivity has leaked ServiceConnection.
	\item fixed BUG ID=7: app crashes when i'm trying to add categories.
\end{enumerate}

Changelog SPFChatDemo:
\begin{enumerate}
	\item updated to Lollipop/Marshmallow Material Design using support libraries.	
	\item added Travis CI to the github repository.
\end{enumerate}
